{% extends 'base.html.twig' %}

{% block title %} Bienvenue, {{ userName }} {% endblock %}

{% block body %}

{{ parent() }}

<div class="container">
	<!--map and Constantin-->
	{% set labels = ['Imoc', 'Isia', 'Vorod', 'Elemia', 'Rania', 'Pona', 'Nesa', 'Sovia', 'Caguma', 'Belam', 'Will'] %}
	{% set numOrder = [2, 5, 10, 1, 4, 3, 0, 6, 8, 9, 7] %}
	<div class="row align-items-center"  style="padding: 10px; background-image: url({{ asset('images/pupil/map/sea.png') }});">
		<!--map-->
		<div class="col-9">
			<div class="row align-items-center">
			<div class="row">
				{% for i in 1..6 %}
				<div class="col text-center">
					<a href="{{ path('altic_pupilTable', {number:numOrder[i-1]}) }}" style="color: white; font-size: 1.5em;"><img style="padding: 10px;" class="img-fluid" src="{{ asset('images/pupil/map/' ~ i ~ '_.png') }}">{{ labels[i-1] }} ({{ numOrder[i-1] }})</a>
				</div>
				{% endfor %}
			</div>
			<div class="row">
				{% for i in 7..11 %}
				<div class="col text-center">
					<a href="{{ path('altic_pupilTable', {number:numOrder[i-1]}) }}" style="color: white; font-size: 1.5em;"><img style="padding: 10px;" class="img-fluid" src="{{ asset('images/pupil/map/' ~ i ~ '_.png') }}">{{ labels[i-1] }} ({{ numOrder[i-1] }})</a>
				</div>
				{% endfor %}
			</div>
			</div>
		</div>
		<!--Constantin-->
		<div class="col-3">
			<h4 style="color: white; font-weight: bold;">Bonjour, je suis Constantin ! {{ advice1 }}. {{ advice2 }}</h4 style="font-weight: bold;">
			<img class="img-fluid" src="{{ asset('images/pupil/characters/92.png') }}">
		</div>
	</div>

	<br/>

    <!--stats-->
	<div style="font-family: 'roboto'; font-weight: bold;" class="row align-items-top">
		<div class="col-sm-4 jumbotron">
			<p class="h5">Trophées</p>
			<div class="row">
				<div class="col">
					<img style="max-height: 100px; max-width: 100px;" src="{{ asset('images/pupil/characters/1.png') }}">
				</div>
				<div class="col">
					Débloqué de base<br/><br/>
				</div>
			</div>
			{% for trophy,isDone in hallOfTrophy %}
			<div class="row">
				{% set obtention = trophy| split("") %}
				{% if isDone%}
				<div class="col">
					<img style="max-height: 100px; max-width: 100px;" src="{{ asset('images/pupil/characters/'~trophy~'.png') }}">
				</div>
				<div class="col">
					Débloqué à la table de {{obtention[0]}} au niveau {% if obtention[1]=="1" %}9{% else %}12{% endif %}<br/><br/>
				</div>
				{% else %}
				<div class="col">
					<img style="max-height: 100px; max-width: 100px;-webkit-filter: grayscale(100%);-moz-filter: grayscale(100%);-o-filter: grayscale(100%);-ms-filter: grayscale(100%);filter: grayscale(100%);" src="{{ asset('images/pupil/characters/'~trophy~'.png') }}">
				</div>
				<div class="col">
					Se débloque à la table de {{obtention[0]}} au niveau {% if obtention[1]=="1" %}9{% else %}12{% endif %}<br/><br/>
				</div>
				{% endif %}
			</div>
			{% endfor %}
		</div>
		<div class="col-sm-4 jumbotron"><p class="h5">Stastistiques</p>
		Entraînements effectués : {{percentArray[12]}} <br>
		Durée totale des entraînements : {{percentArray[13]}}h {{percentArray[14]}}mins <br>
		Progression Totale : {{ percentArray[0]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[0] }}%" aria-valuenow="{{ percentArray[0] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 0 - Complétée à {{ percentArray[7]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[7] }}%" aria-valuenow="{{ percentArray[7] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 1 - Complétée à {{ percentArray[4]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[4] }}%" aria-valuenow="{{ percentArray[4] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 2 - Complétée à {{ percentArray[1]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[1] }}%" aria-valuenow="{{ percentArray[1] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 3 - Complétée à {{ percentArray[6]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[6] }}%" aria-valuenow="{{ percentArray[6] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 4 - Complétée à {{ percentArray[5]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[5] }}%" aria-valuenow="{{ percentArray[5] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 5 - Complétée à {{ percentArray[2]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[2] }}%" aria-valuenow="{{ percentArray[2] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 6 - Complétée à {{ percentArray[8]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[8] }}%" aria-valuenow="{{ percentArray[8] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 7 - Complétée à {{ percentArray[11]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[11] }}%" aria-valuenow="{{ percentArray[11] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 8 - Complétée à {{ percentArray[9]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[9] }}%" aria-valuenow="{{ percentArray[9] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 9 - Complétée à {{ percentArray[10]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[10] }}%" aria-valuenow="{{ percentArray[10] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div><br>
		Table de 10 - Complétée à {{ percentArray[3]}}%
		<div class="progress">
		<div class="progress-bar bg-info" role="progressbar" style="width: {{ percentArray[3] }}%" aria-valuenow="{{ percentArray[3] }}" aria-valuemin="0" aria-valuemax="100"></div>
		</div>
		</div>

		<div class="col-sm-4"><p class="h5">Mes enseignants</p>
		
	<!--ajoutEnseignant-->
	<ul class="list-group">
	{% for teacher in teacherLynx %}
		<li class="list-group-item d-flex justify-content-between align-items-center">
			{{ teacher.email }}
			<a class="badge badge-primary badge-pill" href="removeTeacher/{{teacher.id}}">supprimer</a>
		</li>
	{% endfor %}
	</ul>
	<br><br>
	{{form_start(addTeacher)}}
		{{form_row(addTeacher.email)}}
		<button class="btn btn-lg btn-primary" type="submit">Ajouter un enseignant</button>
	{{form_end(addTeacher)}}{% for label, messages in app.flashes(['success', 'warning']) %}
    {% for message in messages %}
        <div class="alert alert-dismissible alert-warning">
        	<button type="button" class="close" data-dismiss="alert">&times;</button>
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}
</div>
		</div>

	</div>

{% endblock %}